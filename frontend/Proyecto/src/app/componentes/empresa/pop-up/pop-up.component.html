<div class="row p-md-5">
    <div class="col-9 mx-auto">
        <div id="title"><span>
                <h1 class="text-center">Editar informacion de usuario</h1>
            </span></div>
        <div class="card-body">
            <form #form [formGroup]="addEmp" autocomplete="off" novalidate #formRef="ngForm">
                <div id="container-form" class="formulario text-center">

                    <div class='{{response_d}}'>
                        {{response_content}}
                    </div>

                    <div class="row mb-4">
                        <div class="col-md-6">
                            <p>Selecciona un tipo:</p>
                            <input #inputRUC (input)="changeValue(inputRUC.value)" type="radio" id="RUC" name="tipo" value="RUC"
                                checked>
                            <label class="me-4" for="RUC">RUC</label>

                            <input #inputCedula (input)="changeValue(inputCedula.value)" type="radio" id="CEDULA" name="tipo"
                                value="CEDULA">
                            <label for="CEDULA">CEDULA</label>
                        </div>

                        <div class="col-md-6">
                            <div class="form-floating">
                                <input class="form-control" maxlength="13" id="inputTipo" type="text" formControlName="n_identificacion">
                                <label id="n_identificacion" for="inputTipo">{{tipo}}</label>
                                <span class="lead error"
                                    *ngIf="(formRef.submitted && addEmp.get('n_identificacion')?.hasError('required'))|| addEmp.get('n_identificacion')?.hasError('pattern') || validarRucCedula()">Ingrese
                                    {{tipo}} válido</span>
                            </div>
                        </div>
                    </div>

                    <div id="inputs-edit" class="mb-5">
                        <div class="mb-3 row grupos-permisos" formGroupName="user">
                            <div class="col-md-6">
                                <div class="form-floating mb-6 mb-md-0">
                                    <input class="form-control campos" id="nombre" name="nombres" type="text"
                                        placeholder="Nombres de la persona" maxlength="50" formControlName="first_name">
                                    <label for="nombre">Nombres</label>
                                    <span class="lead error"
                                        *ngIf="(formRef.submitted && addEmp.get('user.first_name')?.hasError('required')) || addEmp.get('user.first_name')?.hasError('minlength') || addEmp.get('user.first_name')?.hasError('pattern')">Ingrese
                                        un nombre válido</span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-floating mb-12 mb-md-0">
                                    <input class="form-control campos" id="apellido" name="apellidos" type="text"
                                        placeholder="Nombres de la persona" maxlength="50" formControlName="last_name">
                                    <label for="nombre">Apellidos</label>
                                    <span class="lead error"
                                        *ngIf="(formRef.submitted && addEmp.get('user.last_name')?.hasError('required')) || addEmp.get('user.last_name')?.hasError('minlength') || addEmp.get('user.last_name')?.hasError('pattern') || addEmp.get('user.last_name')?.hasError('maxlength')">Ingrese
                                        un nombre válido</span>
                                </div>
                            </div>
                        </div>

                        <div class="mb-3 row grupos-permisos">
                            <div class="col-12" formGroupName="user">
                                <div class="form-floating mb-12 mb-md-0">
                                    <input class="form-control campos" id="correo" name="correo" type="text"
                                        placeholder="Nombres de la persona" maxlength="200" formControlName="email">
                                    <label for="correo">Correo</label>
                                    <span class="lead error"
                                        *ngIf="(formRef.submitted && addEmp.get('user.email')?.hasError('required')) || addEmp.get('user.email')?.hasError('minlength') || addEmp.get('user.email')?.hasError('pattern')">Ingrese
                                        un email válido</span>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="mb-3 row grupos-permisos" formGroupName="user">
                            <div class="col-md-6">
                                <div class="form-floating mb-12 mb-md-0">
                                    <input class="form-control campos" id="contraseña" name="ruc" type="password"
                                        placeholder="Escriba sus ocntraseña" formControlName="password" maxlength="30">
                                    <label for="contraseña">Contraseña</label>
                                    <span class="lead error"
                                        *ngIf="(formRef.submitted && addEmp.get('user.password')?.hasError('required')) || addEmp.get('user.password')?.hasError('maxlength') || addEmp.get('user.password')?.hasError('pattern')">Por
                                        favor llene este campo con una contraseña segura</span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-floating mb-12 mb-md-0">
                                    <input type="password" class="form-control campos" id="confpassword" name="ruc"
                                        placeholder="Ecriba de nuevo su contraseña" formControlName="confpassword"
                                        maxlength="30">
                                    <label for="confcontraseña">Confirmar contraseña</label>
                                    <span class="lead error" *ngIf="validacionPassword()">La contraseñas no
                                        coinciden</span>
                                </div>
                            </div>
                        </div> -->

                        <div class="mb-3 row grupos-permisos">
                            <div class="col-md-6">
                                <div class="form-floating mb-12 mb-md-0">
                                    <input #telf class="form-control campos" id="inputNumphone" name="telefono"
                                        type="text" placeholder="Ingrese su numero de telefono"
                                        (input)="validate.validarCampNum(telf,10)" formControlName='telefono'
                                        maxlength="10">
                                    <label for="inputNumphone">Teléfono</label>
                                    <span class="lead error"
                                        *ngIf="(formRef.submitted && addEmp.get('telefono')?.hasError('required')) || addEmp.get('telefono')?.hasError('minlength') || addEmp.get('telefono')?.hasError('pattern')">Ingrese
                                        numero telefono válido</span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-floating mb-12 mb-md-0">
                                    <input class="form-control campos" id="cargoEmpresa" name="ruc" type="text"
                                        placeholder="Cargo en la Empresa" maxlength="150" formControlName="cargoEmpres">
                                    <label for="cargoEmpresa">Cargo en la Empresa</label>
                                    <span class="lead error"
                                        *ngIf="(formRef.submitted && addEmp.get('cargoEmpres')?.hasError('required')) ||addEmp.get('cargoEmpres')?.hasError('minlength') || addEmp.get('cargoEmpres')?.hasError('pattern')">Por
                                        favor llene este campo</span>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3 row">
                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input class="form-control campos" id="inputDireccion" name="direccion" type="text"
                                        placeholder="Ingrese su dirección" formControlName='direccion' maxlength="150">
                                    <label for="inputDireccion">Dirección</label>
                                    <span class="lead error"
                                        *ngIf="(formRef.submitted && addEmp.get('direccion')?.hasError('required')) ||addEmp.get('direccion')?.hasError('minlength') || addEmp.get('cargoEmpres')?.hasError('pattern')">Por
                                        favor llene este campo</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="inputs-select" class="mb-5 row grupos-permisos">
                        <div class="col-md-5">
                            <div> <span>
                                    <h4>Grupos disponibles</h4>
                                </span> </div>
                            <div class="form-floating">
                                <select id="grupos" name="miselect" multiple class="filtered campos w-100">
                                    <option [value]="item" *ngFor="let item of listGrupos">{{item}}</option>
                                </select>
                            </div>
                        </div>

                        <div class="col-md-2 containerSelect ">
                            <div class=" row align-content-around justify-content-center h-100 px-4">
                                <button id="btnGroup" #btnGroup (click)="asignarSelect('grupos',btnGroup)" class="btnSelect btn btn-primary btn-block h-25"> >
                                </button>
                                <button  (click)="removerSelect('gruposSelect',btnGroup)" class="btnSelect btn btn-primary btn-block h-25"> < 
                                </button>
                            </div>
                        </div>

                        <div class="col-md-5">
                            <div><span>
                                    <h4>Grupos seleccionados</h4>
                                </span></div>
                            <div class="form-floating">
                                <select id="gruposSelect" name="miselect2" multiple class="filtered campos w-100">
                                    <option [value]="item" *ngFor="let item of listGruposSeleccionados">{{item}}
                                    </option>
                                </select>
                            </div>
                            <div>
                                <button (click)="removeAll('Grupos')"
                                    class="btn btn-primary btn-block">RemoverTodo</button>
                            </div>
                        </div>
                    </div>

                    <div class="mb-md-6 row grupos-permisos">
                        <div class="col-md-5">
                            <div><span>
                                    <h4>Permisos disponibles</h4>
                                </span></div>
                            <div class="form-floating">
                                <select id="permisos" name="miselect3" multiple class="filtered campos w-100">
                                    <option [value]="item" *ngFor="let item of listPermisos">{{item}}</option>
                                </select>
                            </div>
                        </div>

                        <div class="col-md-2 containerSelect ">
                            <div class="row align-content-around justify-content-center h-100 px-4">
                                <button (click)="asignarSelect('permisos')" class="btnSelect btn btn-primary btn-block h-25"> >
                                </button>
                                <button (click)="removerSelect('permisosSelect')" class="btnSelect btn btn-primary btn-block h-25">< 
                                </button>
                            </div>
                        </div>

                        <div class="col-md-5">
                            <div><span>
                                    <h4>Permisos seleccionados</h4>
                                </span></div>
                            <div class="form-floating">
                                <select id="permisosSelect" name="miselect4" multiple class="filtered campos w-100">
                                    <option [value]="item" *ngFor="let item of listPermisosSeleccionados">
                                        {{item}}</option>
                                </select>
                            </div>
                            <div>
                                <button (click)="removeAll('Permisos')"
                                    class="btn btn-primary btn-block">RemoverTodo</button>
                            </div>
                        </div>
                    </div>
                    <span class="lead error"
                    *ngIf="validarGrupo()"> Debe de seleccionar un grupo </span>
                    <div id="buttons" class="mt-4 mb-0">
                        <!-- <input type="button" value="Close" class="btn btn-primary btn-block"> -->
                        <input type="submit" [disabled]="formRef.control.invalid || validarRucCedula() || validarGrupo()" (click)="enviarInfo(addEmp.value)" value="Guardar"
                            class="btn btn-primary btn-block">
                    </div>
                </div>



            </form>
        </div>
    </div>
</div>